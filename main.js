(()=>{"use strict";const t=(()=>{const t=document.querySelector(".input-add-project-popup"),e=document.querySelector(".input-add-task"),n=document.querySelector(".btn-add-project"),c=document.querySelector(".btn-add-task"),o=document.querySelector(".add-project-popup-btn"),a=document.querySelector(".add-task");return{showProjectBtn:n,showTaskBtn:c,cancelProject:document.querySelector(".cancel-project-popup"),cancelTask:document.querySelector(".cancel-task"),projectInput:t,taskInput:e,addProjectBtn:o,addTaskBtn:a,storeProject:document.querySelector(".addedprojects"),storeTask:document.querySelector(".addedtasks")}})(),e=function(){document.querySelectorAll(".btn-default-project").forEach((t=>{t.addEventListener("click",(()=>{const e=document.querySelector(".default-project"),n=document.querySelector(".project-preview"),c=t.dataset.tab,o=n.querySelector(`.default-content[data-tab="${c}"]`);e.querySelectorAll(".btn-default-project").forEach((t=>{t.classList.remove("btn-default-project--active")})),n.querySelectorAll(".default-content").forEach((t=>{t.classList.remove("default-content--active")})),t.classList.add("btn-default-project--active"),o.classList.add("default-content--active")}))}))},n=(document.querySelector(".btn-add-project"),document.querySelector(".btn-add-task"),function(t){const e=document.querySelector(t);e.classList.contains("add-project-popup--active")?e.classList.remove("add-project-popup--active"):e.classList.add("add-project-popup--active")}),c=(document.querySelector(".cancel-project-popup"),document.querySelector(".cancel-task"),function(t){document.querySelector(t).value=""});(()=>{let e=[];t.addTaskBtn.addEventListener("click",(function(){n(t.taskInput.value)}));const n=function(n){if(""===n)alert("Please enter something lol");else{const c={id:Date.now(),name:n,completed:!1};e.push(c),o(e),t.taskInput.value=""}},c=function(e){t.storeTask.innerHTML="",e.forEach((function(e){const n=e.completed?"checked":null,c=document.createElement("li");c.setAttribute("class","task-items"),c.setAttribute("data-key",e.id),e.completed&&c.classList.add("checked"),c.innerHTML=`\n                <div>\n                    <input type="checkbox" class="checkbox" ${n}>\n                    ${e.name}\n                </div>\n                <button class="delete-btn">X</button>\n            `,t.storeTask.append(c)}))},o=function(t){localStorage.setItem("todos",JSON.stringify(t)),c(t)};!function(){const t=localStorage.getItem("todos");t&&(e=JSON.parse(t),c(e))}(),t.storeTask.addEventListener("click",(function(t){"checkbox"===t.target.type&&a(t.target.parentElement.parentElement.getAttribute("data-key")),"submit"===t.target.type&&r(t.target.parentElement.getAttribute("data-key"))}));const a=function(t){e.forEach((function(e){e.id==t&&(e.completed=!e.completed)})),o(e)},r=function(t){e=e.filter((function(e){return e.id!=t})),o(e)}})(),(()=>{let e=[];t.addProjectBtn.addEventListener("click",(function(){n(t.projectInput.value)}));const n=function(n){if(""===n)alert("Please enter a project name lol");else{const c={id:Date.now(),name:n};e.push(c),o(e),t.projectInput.value=""}},c=function(e){t.storeProject.innerHTML="",e.forEach((function(e){const n=document.createElement("li");n.setAttribute("class","project-items"),n.setAttribute("data-key",e.id),n.innerHTML=`\n                <p class="project-name" contenteditable="true">${e.name}</p>\n                <button class="delete-btn">X</button>\n            `,t.storeProject.append(n)}))},o=function(t){localStorage.setItem("projects",JSON.stringify(t)),c(t)};!function(){const t=localStorage.getItem("projects");t&&(e=JSON.parse(t),c(e))}(),t.storeProject.addEventListener("click",(function(t){"submit"===t.target.type&&a(t.target.parentElement.getAttribute("data-key"))}));const a=function(t){e=e.filter((function(e){return e.id!=t})),o(e)};document.querySelectorAll(".project-name").forEach((t=>{t.addEventListener("blur",(t=>{r(t.target)}))}));const r=function(t){const n=t.textContent,c=t.parentElement.getAttribute("data-key");e.forEach((t=>{c==t.id&&(t.name=n)})),o(e)}})(),document.addEventListener("DOMContentLoaded",(()=>{e(),document.querySelectorAll("nav").forEach((t=>{t.querySelector(".default-project .btn-default-project").click()})),t.showProjectBtn.addEventListener("click",(function(){n(".add-project-popup")})),t.showTaskBtn.addEventListener("click",(function(){n(".add-task-popup")})),t.cancelProject.addEventListener("click",(function(){c(".input-add-project-popup"),n(".add-project-popup")})),t.cancelTask.addEventListener("click",(function(){c(".input-add-task"),n(".add-task-popup")})),t.addTaskBtn.addEventListener("click",(()=>{}))}))})();